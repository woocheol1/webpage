<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í”¼ì¹˜ ì¡°ì • ë¹„ìœ¨ ê³„ì‚°ê¸° - ì›¹ ë„êµ¬ ëª¨ìŒì§‘</title>
    <link rel="stylesheet" href="../css/styles.css">
    <style>
        .preset-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .preset-button {
            padding: 8px 15px;
            background-color: #e0e0e0;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        
        .preset-button:hover {
            background-color: #d0d0d0;
        }
        
        .result-box {
            background-color: #f5f5f5;
            border-left: 4px solid #3498db;
            padding: 15px;
            margin-top: 20px;
            border-radius: 4px;
        }
        
        .copy-result {
            margin-top: 15px;
            text-align: right;
        }
        
        .explanation {
            margin-top: 30px;
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 4px;
            border-left: 4px solid #2ecc71;
        }
        
        .calculation-steps {
            font-family: monospace;
            background-color: #f0f0f0;
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
        }
        
        .slider-container {
            margin: 20px 0;
        }
        
        #speedSlider {
            width: 100%;
        }
        
        #speedOutput {
            font-weight: bold;
            color: #2c3e50;
        }
        
        .dark-mode-toggle {
            position: absolute;
            top: 20px;
            right: 20px;
            background: none;
            border: none;
            color: #333;
            cursor: pointer;
            font-size: 1.2rem;
        }
    </style>
</head>
<body>
    <header>
        <h1>í”¼ì¹˜ ì¡°ì • ë¹„ìœ¨ ê³„ì‚°ê¸°</h1>
        <p>ì†ë„ ë³€ê²½ì— ë”°ë¥¸ ìŒì„±/ì˜¤ë””ì˜¤ í”¼ì¹˜ ì¡°ì ˆ ë¹„ìœ¨ì„ ê³„ì‚°í•©ë‹ˆë‹¤</p>
        <button class="dark-mode-toggle" onclick="toggleDarkMode()">ğŸŒ“</button>
    </header>
    
    <div class="container">
        <button class="back-button" onclick="window.location.href='../index.html'">â† ë©”ì¸ìœ¼ë¡œ ëŒì•„ê°€ê¸°</button>
        
        <div class="tool-interface">
            <h2 class="page-title">ì†ë„ì— ë”°ë¥¸ í”¼ì¹˜ ì¡°ì • ê³„ì‚°</h2>
            
            <div class="form-group">
                <label for="speedInput">ë³€ê²½ëœ ì†ë„ (%) ì…ë ¥:</label>
                <input type="number" id="speedInput" min="1" max="1000" value="100">
            </div>
            
            <div class="slider-container">
                <input type="range" id="speedSlider" min="10" max="300" value="100" step="5">
                <p>í˜„ì¬ ê°’: <span id="speedOutput">100%</span></p>
            </div>
            
            <div class="preset-buttons">
                <p>ìì£¼ ì‚¬ìš©í•˜ëŠ” ê°’:</p>
                <button class="preset-button" data-value="50">50%</button>
                <button class="preset-button" data-value="75">75%</button>
                <button class="preset-button" data-value="125">125%</button>
                <button class="preset-button" data-value="150">150%</button>
                <button class="preset-button" data-value="200">200%</button>
            </div>
            
            <button id="calculateBtn" onclick="calculate()">ê³„ì‚°í•˜ê¸°</button>
            
            <div id="resultContainer" class="result-box" style="display: none;">
                <h3>ê³„ì‚° ê²°ê³¼</h3>
                <p id="result1">í”¼ì¹˜ ì¡°ì • ë¹„ìœ¨ = 100 / 100 = 1.00</p>
                <p id="result2">í”¼ì¹˜ ì¡°ì • ë¹„ìœ¨ (ì•½) = 1.00</p>
                <div id="presetMessage"></div>
                <div class="copy-result">
                    <button onclick="copyResult()">ê²°ê³¼ ë³µì‚¬</button>
                </div>
            </div>
            
            <div class="explanation">
                <h3>í”¼ì¹˜ ì¡°ì • ë¹„ìœ¨ì´ë€?</h3>
                <p>ë¹„ë””ì˜¤ ë˜ëŠ” ì˜¤ë””ì˜¤ í¸ì§‘ í”„ë¡œê·¸ë¨ì—ì„œ ì˜ìƒ/ìŒì„±ì˜ ì†ë„ë¥¼ ë³€ê²½í•˜ë©´ í”¼ì¹˜(ìŒë†’ì´)ë„ í•¨ê»˜ ë³€í•˜ê²Œ ë©ë‹ˆë‹¤. ì†ë„ê°€ ë¹¨ë¼ì§€ë©´ í”¼ì¹˜ê°€ ì˜¬ë¼ê°€ê³ , ì†ë„ê°€ ëŠë ¤ì§€ë©´ í”¼ì¹˜ê°€ ë‚´ë ¤ê°‘ë‹ˆë‹¤.</p>
                <p>í”¼ì¹˜ ì¡°ì • ë¹„ìœ¨ì€ ë‹¤ìŒ ê³µì‹ìœ¼ë¡œ ê³„ì‚°ë©ë‹ˆë‹¤:</p>
                <div class="calculation-steps">í”¼ì¹˜ ì¡°ì • ë¹„ìœ¨ = ì›ë˜ ì†ë„(%) / ë³€ê²½ëœ ì†ë„(%)</div>
                <p>ì˜ˆì‹œ:</p>
                <ul>
                    <li>ì†ë„ë¥¼ <strong>ë‘ ë°°(200%)</strong>ë¡œ ë†’ì´ë©´ í”¼ì¹˜ ë¹„ìœ¨ì€ <strong>0.5</strong>ê°€ ë©ë‹ˆë‹¤.</li>
                    <li>ì†ë„ë¥¼ <strong>ì ˆë°˜(50%)</strong>ìœ¼ë¡œ ë‚®ì¶”ë©´ í”¼ì¹˜ ë¹„ìœ¨ì€ <strong>2.0</strong>ì´ ë©ë‹ˆë‹¤.</li>
                </ul>
                <p>ì´ í”¼ì¹˜ ì¡°ì • ë¹„ìœ¨ì„ í¸ì§‘ í”„ë¡œê·¸ë¨ì˜ í”¼ì¹˜ ì¡°ì ˆ ì„¤ì •ì— ì…ë ¥í•˜ë©´ ì›ë˜ ìŒë†’ì´ë¥¼ ìœ ì§€í•˜ë©´ì„œ ì†ë„ë§Œ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
            </div>
        </div>
    </div>
    
    <footer>
        <p>&copy; 2025 ì›¹ ë„êµ¬ ëª¨ìŒì§‘ | ê°œì¸ í”„ë¡œì íŠ¸</p>
    </footer>
    
    <script src="../js/common.js"></script>
    <script>
        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì‹¤í–‰
        document.addEventListener('DOMContentLoaded', function() {
            console.log('í”¼ì¹˜ ì¡°ì • ë¹„ìœ¨ ê³„ì‚°ê¸° í˜ì´ì§€ ë¡œë“œë¨');
            
            // ìŠ¬ë¼ì´ë” ì´ë²¤íŠ¸ ì—°ê²°
            const speedSlider = document.getElementById('speedSlider');
            const speedInput = document.getElementById('speedInput');
            const speedOutput = document.getElementById('speedOutput');
            
            speedSlider.addEventListener('input', function() {
                speedInput.value = this.value;
                speedOutput.textContent = this.value + '%';
                console.log('ìŠ¬ë¼ì´ë” ê°’ ë³€ê²½:', this.value);
            });
            
            speedInput.addEventListener('input', function() {
                // ì…ë ¥ê°’ì´ ìŠ¬ë¼ì´ë” ë²”ìœ„ë¥¼ ë²—ì–´ë‚˜ë©´ ìŠ¬ë¼ì´ë”ëŠ” ì—…ë°ì´íŠ¸í•˜ì§€ ì•ŠìŒ
                if (this.value >= 10 && this.value <= 300) {
                    speedSlider.value = this.value;
                }
                speedOutput.textContent = this.value + '%';
                console.log('ì…ë ¥ í•„ë“œ ê°’ ë³€ê²½:', this.value);
            });
            
            // í”„ë¦¬ì…‹ ë²„íŠ¼ ì´ë²¤íŠ¸ ì—°ê²°
            document.querySelectorAll('.preset-button').forEach(button => {
                button.addEventListener('click', function() {
                    const value = this.getAttribute('data-value');
                    speedInput.value = value;
                    
                    // ìŠ¬ë¼ì´ë” ë²”ìœ„ ë‚´ì˜ ê°’ì´ë©´ ìŠ¬ë¼ì´ë”ë„ ì—…ë°ì´íŠ¸
                    if (value >= 10 && value <= 300) {
                        speedSlider.value = value;
                    }
                    speedOutput.textContent = value + '%';
                    
                    // í´ë¦­ ì‹œ ìë™ìœ¼ë¡œ ê³„ì‚° ì‹¤í–‰
                    calculate();
                    
                    console.log('í”„ë¦¬ì…‹ ë²„íŠ¼ í´ë¦­:', value);
                });
            });
            
            // ì—”í„° í‚¤ ëˆŒë €ì„ ë•Œ ê³„ì‚° ì‹¤í–‰
            speedInput.addEventListener('keyup', function(event) {
                if (event.key === 'Enter') {
                    calculate();
                }
            });
        });
        
        // ê³„ì‚° í•¨ìˆ˜
        function calculate() {
            try {
                const originalSpeed = 100;
                
                // ë³€ê²½ëœ ì†ë„ ê°€ì ¸ì˜¤ê¸°
                const changedSpeed = parseFloat(document.getElementById('speedInput').value);
                
                // ì…ë ¥ê°’ ê²€ì¦
                if (isNaN(changedSpeed) || changedSpeed <= 0) {
                    showNotification('ìœ íš¨í•œ ì†ë„ ê°’ì„ ì…ë ¥í•˜ì„¸ìš”.', 'error');
                    console.error('ì˜ëª»ëœ ì…ë ¥ê°’:', changedSpeed);
                    return;
                }
                
                // í”¼ì¹˜ ì¡°ì • ë¹„ìœ¨ ê³„ì‚°
                const pitchAdjustmentRatio = originalSpeed / changedSpeed;
                
                // ê²°ê³¼ í‘œì‹œ
                document.getElementById('result1').innerText = `í”¼ì¹˜ ì¡°ì • ë¹„ìœ¨ = ${originalSpeed} / ${changedSpeed} = ${pitchAdjustmentRatio.toFixed(2)}`;
                document.getElementById('result2').innerText = `í”¼ì¹˜ ì¡°ì • ë¹„ìœ¨ (ì•½) = ${pitchAdjustmentRatio.toFixed(2)}`;
                
                // ê²°ê³¼ ì»¨í…Œì´ë„ˆ í‘œì‹œ
                document.getElementById('resultContainer').style.display = 'block';
                
                // íŠ¹ì • í”„ë¦¬ì…‹ì— ëŒ€í•œ ë©”ì‹œì§€ ì¶”ê°€
                const presetMessage = document.getElementById('presetMessage');
                if (changedSpeed === 200) {
                    presetMessage.innerHTML = '<p><strong>íŒ:</strong> 2ë°°ì†ì—ì„œëŠ” í”¼ì¹˜ í‚¤ë¥¼ -12 ë°˜ìŒ ë˜ëŠ” -1 ì˜¥íƒ€ë¸Œë¡œ ì„¤ì •í•˜ì„¸ìš”.</p>';
                } else if (changedSpeed === 50) {
                    presetMessage.innerHTML = '<p><strong>íŒ:</strong> 0.5ë°°ì†ì—ì„œëŠ” í”¼ì¹˜ í‚¤ë¥¼ +12 ë°˜ìŒ ë˜ëŠ” +1 ì˜¥íƒ€ë¸Œë¡œ ì„¤ì •í•˜ì„¸ìš”.</p>';
                } else {
                    presetMessage.innerHTML = '';
                }
                
                console.log('ê³„ì‚° ì™„ë£Œ:', { changedSpeed, pitchAdjustmentRatio });
                logAction('í”¼ì¹˜ ë¹„ìœ¨ ê³„ì‚°', { speed: changedSpeed, ratio: pitchAdjustmentRatio });
                
                return pitchAdjustmentRatio;
            } catch (error) {
                console.error('ê³„ì‚° ì¤‘ ì˜¤ë¥˜ ë°œìƒ:', error);
                showNotification('ê³„ì‚° ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.', 'error');
            }
        }
        
        // ê²°ê³¼ ë³µì‚¬ í•¨ìˆ˜
        function copyResult() {
            try {
                const result = document.getElementById('result2').innerText;
                copyToClipboard(result);
                console.log('ê²°ê³¼ ë³µì‚¬ë¨');
            } catch (error) {
                console.error('ê²°ê³¼ ë³µì‚¬ ì¤‘ ì˜¤ë¥˜ ë°œìƒ:', error);
                showNotification('ê²°ê³¼ ë³µì‚¬ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.', 'error');
            }
        }
    </script>
</body>
</html>
